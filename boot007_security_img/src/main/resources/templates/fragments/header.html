<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
				xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
				xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<th:block th:fragment = "header">
		<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
		  <div class="container-fluid">
		    <ul class="navbar-nav">
		      <li class="nav-item">
		        <a class="nav-link active" th:href="@{/board/list}"
		        	sec:authorize="isAuthenticated()">BOARD</a>
		      </li>
		    </ul>
			<!-- 	권한  sec:authorize="isAuthenticated()" - 로그인해야지 사용가능
					 	 sec:authorize="isAnonymous()"	   - 권한없어도 사용가능
			 -->
		    <ul class="d-flex navbar-nav">
		     <li class="nav-item">
		        <a class="nav-link" th:href="@{/member/login}" sec:authorize="isAnonymous()">LOGIN</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" th:href="@{/member/join}" sec:authorize="isAnonymous()">JOIN</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" th:href="@{/member/logout}" sec:authorize="isAuthenticated()">LOGOUT</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" th:href="@{/member/member}" sec:authorize="isAuthenticated()"
		        												sec:authentication="principal.username">MYPAGE</a>
		      </li>
		    </ul>
		  </div>
		</nav>
		<script>
			let msg = "[[${msg}]]"; 
			
			if(msg == 'fail'){ history.go(-1);  alert('정보를 확인해주세요'); }
			else if(msg.length != 0){ alert(msg); }
		</script>
		
	</th:block>
</body>
</html>